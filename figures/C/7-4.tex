\documentclass{standalone}
\usepackage{tikz}
\usepackage{ctex,siunitx}
\setCJKmainfont{Noto Serif CJK SC}
\usepackage{tkz-euclide}
\usepackage{amsmath}
\usepackage{wasysym}
\usepackage{circuitikz}
\usetikzlibrary{patterns, calc}
\usetikzlibrary {decorations.pathmorphing, decorations.pathreplacing, decorations.shapes,}
\ctikzset{bipoles/length=1.0cm}
\begin{document}
\small
\begin{circuitikz}[>=latex, scale=1,european]
  % \useasboundingbox(0.9,0)rectangle(5.1,5);
  \draw(-2,0)--(-2,0.5)to[pD](0,0.5)(-2,0)--(-2,-0.5)to[battery2](0,-0.5);
  \draw(0,1)rectangle(1,-1);
  \node at (0.5,1)[above]{放大器};
  \fill[top color=gray,bottom color=gray,middle color=white](2,0.2)rectangle(3,-0.2)node[at start,below left]{$M$};
  \foreach \x in {2.2,2.3,...,2.9}
  {
    \draw(\x,0.2)arc(180:10:0.01)--++(-80:0.41)arc(-170:0:0.01);
  }
  \draw(2.9,0.2)--(2.9,0.5)--(1,0.5);
  \draw(2.2,-0.2)--(2.2,-0.5)--(1,-0.5);
  \fill[gray](3.05,-0.3)rectangle(3.3,0.3)node[below right,text=black]{$N$};
  \fill[gray](3.49,-1.0)rectangle(3.3,-0.7);
  \draw[gray,thick](3.3,-1)--(3.3,1.2);
  \fill[gray](3.3,1.2)circle(1pt);
  \draw(3.3,1.2)--(5.3,1.2)to[battery](5.3,0)to[lamp](5.3,-2);
  \draw(3.6,-1.8)--(3.6,-2)to[cute open switch](5.3,-2)--(5.3,-1.8);
  \draw[thick,fill](3.6,-2)--++(0,1.2)arc(90:270:0.1);
  \draw[decorate,decoration={coil,segment length=0.5mm,amplitude=0.7mm}](3.3,0.8)--(4.0,0.8);
  \draw[very thick](4,1.0)--(4,0.6);
\end{circuitikz}
\end{document}